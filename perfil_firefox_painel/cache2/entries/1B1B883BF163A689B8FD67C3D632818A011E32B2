var map = "";
var urlSA = "";

var hashMap = new Map();
var markersPrestador = [];
var markersCT = [];
var intervalListener = "";
var bounds = new google.maps.LatLngBounds();
var polyline = new google.maps.Polyline({
    path: [],
    strokeColor: '#0D285B',
    strokeWeight: 3
});
var flagBounds = true;

var markerOrigem = null;
var markersDestino = [];
//const markerHeight = '48';
//const labelHeight = '26';

function googleMap_setup(divMapID, latInicial, lonInicial, urlInicialSA) {

    try {
        var latLng = new google.maps.LatLng(parseFloat(latInicial), parseFloat(lonInicial));
        urlSA = urlInicialSA;
        map = new google.maps.Map(document.getElementById(divMapID), {
            center: latLng,
            zoom: 10,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapId: "devbase_google_map", // Map ID is required for advanced markers.
        });

        return true;
    } catch (e) {
        return false;
    }
}

function createMarkerPrestador_mapa(geolocalizacaoID, prestadorID, latLng, prestadorNome, PrestadorIDCrypto, celular, veiculo, placa, foto, quantidadeSolicitacao, solicitacoesPrestador, ultimaAtualizacao, quantidadeServicos, servicosPrestador, online, identificador, semInternet, telaDetalhe, projetoUrl, idioma) {

    //var image = createMarkerImage_mapa(quantidadeSolicitacao, online, semInternet);
    var image = createAdvancedMarkerImage_mapa(quantidadeSolicitacao, online, semInternet);

    //var marker = new MarkerWithLabel({
    //    position: latLng,
    //    map: map,
    //    title: String(prestadorNome),
    //    //label: 'Nome do Marker',
    //    icon: image,
    //    labelContent: identificador,
    //    labelAnchor: new google.maps.Point(27, 0),
    //    labelClass: "label-markers", // the CSS class for the label
    //    labelStyle: { opacity: 1.75 }
    //});

    let glyphDiv = document.createElement("div");
    glyphDiv.style = 'text-align: center; padding-bottom: 26px;';
    glyphDiv.appendChild(image);
    //glyphDiv.appendChild(glyphLabel);

    //var marker = new google.maps.Marker({
    var marker = new google.maps.marker.AdvancedMarkerElement({
        position: latLng,
        draggable: false,
        content: glyphDiv,
        gmpClickable: true,
        map: map,
        title: String(prestadorNome),
        zIndex: 1
    });


    let labelDiv = document.createElement("div");
    let glyphLabel = document.createElement("div");
    glyphLabel.style = 'margin: auto;';
    glyphLabel.classList.add('label-markers');
    glyphLabel.innerText = identificador;
    labelDiv.appendChild(glyphLabel);


    var markerLabel = new google.maps.marker.AdvancedMarkerElement({
        position: latLng,
        draggable: false,
        content: labelDiv,
        gmpClickable: true,
        map: map,
        title: String(prestadorNome),
        zIndex: -1
    });

    var markersArr = [marker, markerLabel];

    markersArr = createInfoWindow_mapa(markersArr, prestadorNome, PrestadorIDCrypto, celular, veiculo, placa, foto, quantidadeSolicitacao, solicitacoesPrestador, ultimaAtualizacao, quantidadeServicos, servicosPrestador, telaDetalhe, projetoUrl, idioma);

    return markersArr;
    //return marker;
}

function updateMarkerPrestador_mapa(markerArr, geolocalizacaoID, prestadorID, latLng, prestadorNome, PrestadorIDCrypto, celular, veiculo, placa, foto, quantidadeSolicitacao, solicitacoesPrestador, ultimaAtualizacao, quantidadeServicos, servicosPrestador, online, identificador, semInternet, telaDetalhe, projetoUrl, idioma) {
    var image = createAdvancedMarkerImage_mapa(quantidadeSolicitacao, online, semInternet);

    var marker = markerArr[0];
    var markerLabel = markerArr[1];

    //marker.setMap(null);
    marker.map = null;
    markerLabel.map = null;
    //marker.setPosition(latLng);
    //marker.position = { lat: 14.53546539778815, lng: 120.98422872277972 }
    marker.position = latLng;
    markerLabel.position = latLng;


    let glyphDiv = document.createElement("div");
    glyphDiv.style = 'text-align: center; padding-bottom: 26px;';
    glyphDiv.appendChild(image);
    //glyphDiv.appendChild(glyphLabel);
    marker.content = glyphDiv;

    let labelDiv = document.createElement("div");
    let glyphLabel = document.createElement("div");
    glyphLabel.style = 'margin: auto;';
    glyphLabel.classList.add('label-markers');
    glyphLabel.innerText = identificador;
    labelDiv.appendChild(glyphLabel);
    markerLabel.content = labelDiv;

    //marker.setMap(map);
    marker.map = map;
    markerLabel.map = map;

    // replace the element with a copy of itself
    // and nuke all the event listeners
    //marker.replaceWith(marker.cloneNode(true));
    //markerLabel.replaceWith(markerLabel.cloneNode(true));

    //var listener = hashMapListener.get(PrestadorIDCrypto);
    //removeEventListener('gmp-click', listener);
    //hashMapListener.remove(PrestadorIDCrypto);

    var newMarkersArr = [marker, markerLabel];

    newMarkersArr = createInfoWindow_mapa(newMarkersArr, prestadorNome, PrestadorIDCrypto, celular, veiculo, placa, foto, quantidadeSolicitacao, solicitacoesPrestador, ultimaAtualizacao, quantidadeServicos, servicosPrestador, telaDetalhe, projetoUrl, idioma);

    return newMarkersArr;
}

function createAdvancedMarkerImage_mapa(quantidadeSolicitacao, online, semInternet) {

    //console.log("### iniciou createMarkerImage");

    var nomeImagem = urlSA;

    if (!online && quantidadeSolicitacao == 0 && !semInternet)
        nomeImagem += "imagens/pin-cinza.png";
    else if (semInternet && quantidadeSolicitacao == 0) {
        nomeImagem += "imagens/pin-amarelo.png";
    } else if (online && quantidadeSolicitacao == 0) {
        nomeImagem += "imagens/pin-verde.png";
    } else if (quantidadeSolicitacao > 0) {
        nomeImagem += "imagens/pin-vermelho.png";
    }
    ///*else {
    //    nomeImagem = "./images/pin-laranja.png";
    //}*/
    ////console.log("### nomeImagem: " + nomeImagem);

    // A marker with a with a URL pointing to a PNG.
    const image = document.createElement("img");
    image.src = nomeImagem;
    image.height = "48";
    image.width = "30";
    return image;
}

function openInfoWindow(e) {
    this.customInfoWindow.open(this.map, this);
}

function createInfoWindow_mapa(markerArr, prestadorNome, PrestadorIDCrypto, celular, veiculo, placa, foto, quantidadeSolicitacao, solicitacoesPrestador, ultimaAtualizacao, quantidadeServicos, servicosPrestador, telaDetalhe, projetoUrl, idioma) {

    contentString = "";
    if (idioma == "es-ES")
        contentString = infoWindowHtml_mapaEspanhol(prestadorNome, PrestadorIDCrypto, celular, veiculo, placa, foto, quantidadeSolicitacao, solicitacoesPrestador, ultimaAtualizacao, quantidadeServicos, servicosPrestador, telaDetalhe, projetoUrl);
    else
        contentString = infoWindowHtml_mapa(prestadorNome, PrestadorIDCrypto, celular, veiculo, placa, foto, quantidadeSolicitacao, solicitacoesPrestador, ultimaAtualizacao, quantidadeServicos, servicosPrestador, telaDetalhe, projetoUrl);

    var infowindow = new google.maps.InfoWindow({
        content: contentString
    });

    //google.maps.event.clearListeners(marker, 'click');
    //google.maps.event.addListener(marker, 'click', function () {
    //    infowindow.open(map, marker);
    //});

    // Add a click listener for each marker, and set up the info window.
    //marker.addListener("click", ({ domEvent, latLng }) => {

    //markerArr[0].addListener("gmp-click", function () {
    //    //const { target } = domEvent;
    //    infowindow.open(markerArr[0].map, markerArr[0]);
    //});

    //var eventListener =
    //    function () {
    //        //const { target } = domEvent;
    //        infowindow.open(markerArr[0].map, markerArr[0]);
    //    };
    markerArr[0].customInfoWindow = infowindow;

    markerArr[0].addEventListener(
        'gmp-click', openInfoWindow
    );


    //markerArr[1].addListener("gmp-click", function () {
    //    //const { target } = domEvent;
    //    //infowindow.open(markerArr[1].map, markerArr[0]);
    //    markerArr[0].gmp-click.apply(markerArr[0]);
    //});
    markerArr[1].customInfoWindow = infowindow;
    markerArr[1].addEventListener(
        'gmp-click', openInfoWindow
    );

    return markerArr;
}

function SolicitacaoDetalhe_mapa(SolicitacaoIDCrypto) {
    document.location.href = "../../" + projetoUrl + "/SolicitacaoDetalhe/" + SolicitacaoIDCrypto;
    return;
}

function infoWindowHtml_mapa(prestadorNome, PrestadorIDCrypto, celular, veiculo, placa, foto, quantidadeSolicitacao, solicitacoesPrestador, ultimaAtualizacao, quantidadeServicos, servicosPrestador, telaDetalhe, projetoUrl) {
    var contentString = "";

    contentString = contentString +
        '<html>' +
        '   <head>' +
        '       <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">' +
        '       <link rel="stylesheet" src="../../bower_components/bootstrap/dist/css/bootstrap.min.css">' +
        '       <link rel="stylesheet" src="../../bower_components/font-awesome/css/font-awesome.min.css">' +
        '       <link rel="stylesheet" src="../../bower_components/Ionicons/css/ionicons.min.css">' +
        '       <link rel="stylesheet" src="../../bower_components/bootstrap-daterangepicker/daterangepicker.css">' +
        '       <link rel="stylesheet" src="../../bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">' +
        '       <link rel="stylesheet" src="../../plugins/iCheck/all.css">' +
        '       <link rel="stylesheet" src="../../bower_components/bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css">' +
        '       <link rel="stylesheet" src="../../plugins/timepicker/bootstrap-timepicker.min.css">' +
        '       <link rel="stylesheet" src="../../bower_components/select2/dist/css/select2.min.css">' +
        '       <link rel="stylesheet" src="../../dist/css/AdminLTE.min.css">' +
        '   </head>' +
        '   <body>' +
        '       <div class="col-xs-12 nopadding nomargin">' +
        '           <div class="col-xs-5 nopadding nomargin">' +
        '               <div class="col-xs-12 nopadding nomargin">' +
        '                   <img class="img-thumbnail img-circle img-responsive" src="' + foto + '" style="width: 100px; height: 100px; float: left; " />' +
        '               </div>' +
        '               <div class="col-xs-12">';
    if ((projetoUrl !== undefined) && (projetoUrl !== null) && (projetoUrl !== ""))
        contentString = contentString + '                   Nome: <a href="../../' + projetoUrl + '/CadastrarPrestadores/' + PrestadorIDCrypto + '" target="_blank">' + prestadorNome + '</a>';
    else
        contentString = contentString + '                   Nome: <a href="../../CadastrarPrestadores/' + PrestadorIDCrypto + '" target="_blank">' + prestadorNome + '</a>';

    contentString = contentString +
        '               </div>' +
        '               <div class="col-xs-12">' +
        '                   <strong> Celular: ' + celular +
        '               </div>' +
        '               <div class="col-xs-12">' +
        '                   <strong> Veiculo: ' + veiculo +
        '               </div>' +
        '               <div class="col-xs-12">' +
        '                   <strong> Placa: ' + placa +
        '               </div>' +
        '               <div class="col-xs-12">' +
        '                   <strong> U.Atual: ' + ultimaAtualizacao +
        '               </div>' +
        '           </div>' +

        //inicio - lista de serviços
        '           <div class="col-xs-7">' +
        '               <div class="box">' +
        '                   <div class="box-header"> ' +
        '                       <h3 class="box-title">Serviços</h3>' +
        '                   </div>' +
        '                   <div class="box-body">';
    if (quantidadeServicos > 0) {
        contentString = contentString +
            '                       <table class="tableMap table-hover table-striped" style="width:100%" >' +
            '                           <thead style="text-align:center"> ' +
            '                               <tr>' +
            '                                   <th>Serviços</th>' +
            '                               </tr>' +
            '                           </thead>' +
            '                           <tbody>';
        for (var j = 0, len = servicosPrestador.length; j < len; j++) {
            var dats = servicosPrestador[j];
            contentString = contentString + '   <tr>' +
                '                                 <td>' + dats.servicoNome + '</td>' +
                '                               <tr>';
        }
        contentString = contentString +
            '                           <tbody>' +
            '                       </table>';
    };
    contentString = contentString +
        '                   </div>' +
        '               </div>' +
        '           </div>' +
        //fim - lista de serviços

        '           <div class="col-xs-12 nopadding nomargin">' +
        '               <div class="box">' +
        '                   <div class="box-header"> ' +
        '                       <h3 class="box-title">Solicitações</h3>' +
        '                   </div>' +
        '                   <div class="box-body">';
    if (quantidadeSolicitacao > 0) {
        contentString = contentString +
            '                       <table border="0" class="tableMap table-hover table-striped" style="width:100%" >' +
            '                           <thead style="text-align:center" > ' +
            '                               <tr>' +
            '                                   <th rowspan="2" style="text-align:center">N. Pedido</th>' +
            '                                   <th rowspan="2" style="text-align:center">Hr pedido</th>' +
            '                                   <th rowspan="2" style="text-align:center">End. Orig.</th>' +
            '                                   <th rowspan="2" style="text-align:center">Cliente</th>' +
            '                                   <th rowspan="2" style="text-align:center">Serviço</th>' +
            '                                   <th rowspan="2" style="text-align:center">Status</th>' +
            '                                   <th rowspan="2" style="text-align:center">Filial</th>' +
            '                                   <th rowspan="2" style="text-align:center">Região</th>' +
            '                                   <th colspan="2" style="text-align:center">Origem Passageiro</th>' +
            '                                   <th rowspan="2" style="text-align:center"> </th>' +
            '                               </tr>' +
            '                               <tr>' +
            '                                   <th style="text-align:center">Tempo (Min.)</th>' +
            '                                   <th style="text-align:center">Distância (km)</th>' +
            '                               </tr>' +
            '                           </thead>' +
            '                           <tbody style="text-align:center">';
        for (var i = 0, length = solicitacoesPrestador.length; i < length; i++) {
            var data = solicitacoesPrestador[i];
            //var strURL = 'document.location.href="../../SolicitacaoDetalhe/' + data.SolicitacaoIDCrypto + '"';
            var strURL;
            if (telaDetalhe == null || telaDetalhe == "")
                strURL = "window.open('../../SolicitacaoDetalhe/" + data.solicitacaoIDCrypto + "', '_blank')";
            else
                strURL = "window.open('../../" + telaDetalhe + "/" + data.solicitacaoIDCrypto + "', '_blank')";

            contentString = contentString + '   <tr>' +
                '                                   <td>' + data.solicitacaoID + '</td>' +
                '                                   <td>' + data.horaSolicitacao + '</td>' +
                '                                   <td>' + data.origemEndereco + '</td>' +
                '                                   <td>' + data.clienteNome + '</td>' +
                '                                   <td>' + data.servicoNome + '</td>' +
                '                                   <td>' + data.statusSolicitacaoDesc + '</td>' +
                '                                   <td>' + data.filialNome + '</td>' +
                '                                   <td>' + data.regiaoNome + '</td>' +
                '                                   <td>' + data.tempoAtePassageiro + '</td>' +
                '                                   <td>' + data.distanciaAtePassageiro + '</td>' +
                '                                   <td><button type="button" class="btn btn-info btn-small" onclick="' + strURL + ';"><i class="fa fa-edit"></i></button></td>' +
                '                               <tr>';
        }
        contentString = contentString +
            '                           <tbody>' +
            '                       </table>';
    } else {

        contentString = contentString + ' Sem Solicitações ';
    };
    contentString = contentString +
        '                   <div>' +
        '                   </div>' +
        '                   </div>' +
        '               </div>' +
        '           </div>' +
        '       </div>' +
        '   </body>' +
        '</html>';

    return contentString;
}

function infoWindowHtml_mapaEspanhol(prestadorNome, PrestadorIDCrypto, celular, veiculo, placa, foto, quantidadeSolicitacao, solicitacoesPrestador, ultimaAtualizacao, quantidadeServicos, servicosPrestador, telaDetalhe, projetoUrl) {
    var contentString = "";

    contentString = contentString +
        '<html>' +
        '   <head>' +
        '       <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">' +
        '       <link rel="stylesheet" href="../../bower_components/bootstrap/dist/css/bootstrap.min.css">' +
        '       <link rel="stylesheet" href="../../bower_components/font-awesome/css/font-awesome.min.css">' +
        '       <link rel="stylesheet" href="../../bower_components/Ionicons/css/ionicons.min.css">' +
        '       <link rel="stylesheet" href="../../bower_components/bootstrap-daterangepicker/daterangepicker.css">' +
        '       <link rel="stylesheet" href="../../bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">' +
        '       <link rel="stylesheet" href="../../plugins/iCheck/all.css">' +
        '       <link rel="stylesheet" href="../../bower_components/bootstrap-colorpicker/dist/css/bootstrap-colorpicker.min.css">' +
        '       <link rel="stylesheet" href="../../plugins/timepicker/bootstrap-timepicker.min.css">' +
        '       <link rel="stylesheet" href="../../bower_components/select2/dist/css/select2.min.css">' +
        '       <link rel="stylesheet" href="../../dist/css/AdminLTE.min.css">' +
        '       <!--<link rel="stylesheet" href="../../dist/css/CustomCSS.css">-->' +
        '   </head>' +
        '   <body>' +
        '       <div class="col-xs-12 nopadding nomargin">' +
        '           <div class="col-xs-5 nopadding nomargin">' +
        '               <div class="col-xs-12 nopadding nomargin">' +
        '                   <img class="img-thumbnail img-circle img-responsive" src="' + foto + '" style="width: 100px; height: 100px; float: left; " />' +
        '               </div>' +
        '               <div class="col-xs-12">';
    if ((projetoUrl !== undefined) && (projetoUrl !== null) && (projetoUrl !== ""))
        contentString = contentString + '                   Nombre: <a href="../../' + projetoUrl + '/CadastrarPrestadores/' + PrestadorIDCrypto + '" target="_blank">' + prestadorNome + '</a>';
    else
        contentString = contentString + '                   Nombre: <a href="../../CadastrarPrestadores/' + PrestadorIDCrypto + '" target="_blank">' + prestadorNome + '</a>';

    contentString = contentString +
        '               </div>' +
        '               <div class="col-xs-12">' +
        '                   <strong> Móvil: ' + celular +
        '               </div>' +
        '               <div class="col-xs-12">' +
        '                   <strong> Vehículo: ' + veiculo +
        '               </div>' +
        '               <div class="col-xs-12">' +
        '                   <strong> Nº Matrícula: ' + placa +
        '               </div>' +
        '               <div class="col-xs-12">' +
        '                   <strong> U. Atuali.: ' + ultimaAtualizacao +
        '               </div>' +
        '           </div>' +

        //inicio - lista de serviços
        '           <div class="col-xs-7">' +
        '               <div class="box">' +
        '                   <div class="box-header"> ' +
        '                       <h3 class="box-title">Servicios</h3>' +
        '                   </div>' +
        '                   <div class="box-body">';
    if (quantidadeServicos > 0) {
        contentString = contentString +
            '                       <table class="tableMap table-hover table-striped" style="width:100%" >' +
            '                           <thead style="text-align:center"> ' +
            '                               <tr>' +
            '                                   <th>Servicios</th>' +
            '                               </tr>' +
            '                           </thead>' +
            '                           <tbody>';
        for (var j = 0, len = servicosPrestador.length; j < len; j++) {
            var dats = servicosPrestador[j];
            contentString = contentString + '   <tr>' +
                '                                 <td>' + dats.servicoNome + '</td>' +
                '                               <tr>';
        }
        contentString = contentString +
            '                           <tbody>' +
            '                       </table>';
    };
    contentString = contentString +
        '                   </div>' +
        '               </div>' +
        '           </div>' +
        //fim - lista de serviços

        '           <div class="col-xs-12 nopadding nomargin">' +
        '               <div class="box">' +
        '                   <div class="box-header"> ' +
        '                       <h3 class="box-title">Pedidos</h3>' +
        '                   </div>' +
        '                   <div class="box-body">';
    if (quantidadeSolicitacao > 0) {
        contentString = contentString +
            '                       <table border="0" class="tableMap table-hover table-striped" style="width:100%" >' +
            '                           <thead style="text-align:center" > ' +
            '                               <tr>' +
            '                                   <th rowspan="2" style="text-align:center">N. Pedido</th>' +
            '                                   <th rowspan="2" style="text-align:center">Hr Pedido</th>' +
            '                                   <th rowspan="2" style="text-align:center">End. Orig.</th>' +
            '                                   <th rowspan="2" style="text-align:center">Cliente</th>' +
            '                                   <th rowspan="2" style="text-align:center">Servicios</th>' +
            '                                   <th rowspan="2" style="text-align:center">Status</th>' +
            '                                   <th rowspan="2" style="text-align:center">Sucursale</th>' +
            '                                   <th rowspan="2" style="text-align:center">Regione</th>' +
            '                                   <th colspan="2" style="text-align:center">Origen Pasajero</th>' +
            '                                   <th rowspan="2" style="text-align:center"> </th>' +
            '                               </tr>' +
            '                               <tr>' +
            '                                   <th style="text-align:center">Tiempo (Min.)</th>' +
            '                                   <th style="text-align:center">Distancia (km)</th>' +
            '                               </tr>' +
            '                           </thead>' +
            '                           <tbody style="text-align:center">';
        for (var i = 0, length = solicitacoesPrestador.length; i < length; i++) {
            var data = solicitacoesPrestador[i];
            //var strURL = 'document.location.href="../../SolicitacaoDetalhe/' + data.SolicitacaoIDCrypto + '"';
            var strURL;
            if (telaDetalhe == null || telaDetalhe == "")
                strURL = "window.open('../../SolicitacaoDetalhe/" + data.solicitacaoIDCrypto + "', '_blank')";
            else
                strURL = "window.open('../../" + telaDetalhe + "/" + data.solicitacaoIDCrypto + "', '_blank')";

            contentString = contentString + '   <tr>' +
                '                                   <td>' + data.solicitacaoID + '</td>' +
                '                                   <td>' + data.horaSolicitacao + '</td>' +
                '                                   <td>' + data.origemEndereco + '</td>' +
                '                                   <td>' + data.clienteNome + '</td>' +
                '                                   <td>' + data.servicoNome + '</td>' +
                '                                   <td>' + data.statusSolicitacaoDesc + '</td>' +
                '                                   <td>' + data.filialNome + '</td>' +
                '                                   <td>' + data.regiaoNome + '</td>' +
                '                                   <td>' + data.tempoAtePassageiro + '</td>' +
                '                                   <td>' + data.distanciaAtePassageiro + '</td>' +
                '                                   <td><button type="button" class="btn btn-info btn-small" onclick="' + strURL + ';"><i class="fa fa-edit"></i></button></td>' +
                '                               <tr>';
        }
        contentString = contentString +
            '                           <tbody>' +
            '                       </table>';
    } else {

        contentString = contentString + ' Sin Pedidos ';
    };
    contentString = contentString +
        '                   <div>' +
        '                   </div>' +
        '                   </div>' +
        '               </div>' +
        '           </div>' +
        '       </div>' +
        '   </body>' +
        '</html>';

    return contentString;
}

function googleMap_listarPrestadores(objMapa, limparMapa, projetoUrl, idioma) {

    //alert("1");
    //console.log("### iniciou googleMap_listarPrestadores");

    try {
        if (typeof objMapa.mapaGeolocalizacaoPrestadores !== 'undefined') {
            //alert("2");
            //console.log("### 1");

            var dadosMapa = objMapa.mapaGeolocalizacaoPrestadores;
            //alert("3");
            //console.log("### 2");
            var telaDetalhe = objMapa.telaDetalhe;
            //alert("4");
            //console.log("### 3");

            console.log('listar ' + dadosMapa.length + ' ' + markersPrestador.length);

            while (markersPrestador.length) {
                try {
                    //markersPrestador.pop().setMap(null);
                    var markerArr = markersPrestador.pop();
                    markerArr[0].map = null;
                    markerArr[1].map = null;
                    //if (showInfoWindow !== 'undefined' && showInfoWindow != '') {
                    //    console.log('remove listener ' + markersPrestador.prestadorIDCrypto + ' ' + markerArr[0].removeEventListener('gmp-click', showInfoWindow));
                    //    console.log('remove listener ' + markersPrestador.prestadorIDCrypto + ' ' + markerArr[1].removeEventListener('gmp-click', showInfoWindow));
                    //}
                }
                catch (e) {
                    console.log(e);
                }
            };

            //while (hashMapListener.length) {
            //    try {
            //        //markersPrestador.pop().setMap(null);
            //        var listener = hashMapListener.pop();
            //        removeEventListener('gmp-click', listener);
            //    }
            //    catch (e) {
            //        console.log(e);
            //    }
            //};


            if (flagBounds || limparMapa) {
                flagBounds = false;
                // Re-criar os markers
                hashMap = new Map();
                //alert("5");
                //console.log("### 4");

                //google.maps.Map.prototype.clearMarkers = function () {
                //    for (var i = 0; i < this.marker.length; i++) {
                //        this.marker[i].setMap(null);
                //    }
                //    this.marker = new Array();
                //};

                //alert("6");
                //console.log("### 5 markersPrestador.length");

                var bounds = new google.maps.LatLngBounds();
                //alert("7");
                //alert(dadosMapa.length);
                //console.log("### 6 bounds");

                var timeOut = 0;
                var checkIsMapLoaded = function () {
                    if (map === 'undefined' || map === '' || map.tilesloading !== false) {
                        console.log('check ' + timeOut);
                        timeOut += 50;

                        if (timeOut < 5000) {
                            setTimeout(checkIsMapLoaded, timeOut); // check again
                        }
                        else {
                            console.log('check end');
                            // se cair aqui, é incialização e o mapa demorou demais para carregar (lentidão, ou talvez problema na chave da API ou na conta)
                            return false;
                        }
                    }
                    else {
                        console.log('check ok ' + timeOut);
                        for (var i = 0, length = dadosMapa.length; i < length; i++) {
                            try {

                                var data = dadosMapa[i],
                                    latLng = new google.maps.LatLng(parseFloat(data.latitude), parseFloat(data.longitude));

                                //console.log("### data");

                                bounds.extend(latLng);
                                //console.log("### bounds.extend");

                                var markersPrestadorArr = createMarkerPrestador_mapa(data.geolocalizacaoID, data.prestadorID, latLng, data.prestadorNome, data.prestadorIDCrypto, data.celular, data.veiculo, data.placa, data.foto, data.quantidadeSolicitacao, data.solicitacoesPrestador, data.ultimaAtualizacao, data.quantidadeServicos, data.lstServicosPrestadores, data.ativo, data.identificador, data.semInternet, telaDetalhe, projetoUrl, idioma);

                                //console.log("### createMarkerPrestador");
                                markersPrestadorArr.atualizado = false;
                                markersPrestadorArr.geolocalizacaoID = data.geolocalizacaoID;
                                markersPrestadorArr.prestadorIDCrypto = data.prestadorIDCrypto;
                                hashMap.set(markersPrestadorArr.geolocalizacaoID, markersPrestadorArr);
                                //console.log("### hashMap");

                                markersPrestador.push(markersPrestadorArr);
                                //alert("ok")
                                //console.log("### markersPrestador");

                            } catch (e) {
                                console.log(e);
                            }
                        }
                        if (typeof map.fitBounds !== 'undefined') {
                            map.fitBounds(bounds);
                        }
                    }
                }
                checkIsMapLoaded();
                //console.log("### 7 map.fitBounds(bounds);");

            }
            else if (map === 'undefined' || map === '' || map.tilesloading !== false) {
                // se cair aqui, é step de atualização e o mapa não carregou por algum motivo (lentidão, ou talvez problema na chave da API ou na conta)
                return false;
            }
            else {
                //alert("8");
                // Atualizar os markers
                //var marker;

                //var bounds = new google.maps.LatLngBounds();

                for (var i = 0, length = dadosMapa.length; i < length; i++) {
                    try {
                        var data = dadosMapa[i],
                            latLng = new google.maps.LatLng(parseFloat(data.latitude), parseFloat(data.longitude));

                        //bounds.extend(latLng);

                        //latLngDe = new google.maps.LatLng("-22.7365311", "-47.2857673");
                        var markersPrestadorArr = hashMap.get(data.geolocalizacaoID);

                        if (markersPrestadorArr == null) {
                            markersPrestadorArr = createMarkerPrestador_mapa(data.geolocalizacaoID, data.prestadorID, latLng, data.prestadorNome, data.prestadorIDCrypto, data.celular, data.veiculo, data.placa, data.foto, data.quantidadeSolicitacao, data.solicitacoesPrestador, data.ultimaAtualizacao, data.quantidadeServicos, data.lstServicosPrestadores, data.ativo, data.identificador, data.semInternet, telaDetalhe, projetoUrl, idioma);
                            markersPrestadorArr.atualizado = true;
                            markersPrestadorArr.geolocalizacaoID = data.geolocalizacaoID;
                            markersPrestadorArr.prestadorIDCrypto = data.prestadorIDCrypto;
                            hashMap.set(markersPrestadorArr.geolocalizacaoID, markersPrestadorArr);
                        } else {
                            markersPrestadorArr.atualizado = true;
                            markersPrestadorArr = updateMarkerPrestador_mapa(markersPrestadorArr, data.geolocalizacaoID, data.prestadorID, latLng, data.prestadorNome, data.prestadorIDCrypto, data.celular, data.veiculo, data.placa, data.foto, data.quantidadeSolicitacao, data.solicitacoesPrestador, data.ultimaAtualizacao, data.quantidadeServicos, data.lstServicosPrestadores, data.ativo, data.identificador, data.semInternet, telaDetalhe, projetoUrl, idioma);
                        }
                        markersPrestador.push(markersPrestadorArr);

                    } catch (e) {
                        console.log(e);
                    }
                }

                var newHashMap = new Map();
                while (hashMap.length) {
                    try {
                        var markersPrestadorArr = hashMap.pop();
                        if (markersPrestadorArr.atualizado) {
                            markersPrestadorArr[0].map = null;
                            markersPrestadorArr[1].map = null;
                        }
                        else {
                            markersPrestadorArr.atualizado = false;
                            newHashMap.set(markersPrestadorArr.geolocalizacaoID, markersPrestadorArr);
                        }
                    }
                    catch (e) {
                        console.log(e);
                    }
                };

                hashMap = newHashMap;
            }
        }

        //console.log("### finalizou googleMap_listarPrestadores");

        return true;

    } catch (e) {
        console.log(e);
        return false;
    }
}q$~      ijijIqk       {    O^partitionKey=%28https%2Cpaineladmin3.azurewebsites.net%29,:https://paineladmin3.azurewebsites.net/dist/js/Mapa.js?v=7.8.2 strongly-framed 1 security-info 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Q78KEiJTyc92LAJ5de0jxMrVz4L3byBhZ/RSMCcGCSsGAQQBgjcVCgQaMBgwCgYIKwYBBQUHAwIwCgYIKwYBBQUHAwEwPAYJKwYBBAGCNxUHBC8wLQYlKwYBBAGCNxUIh73XG4Hn60aCgZ0ujtAMh/DaHV2Cq+cwh+3xHwIBZAIBLTCBtAYIKwYBBQUHAQEEgacwgaQwcwYIKwYBBQUHMAKGZ2h0dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMvY2VydHMvTWljcm9zb2Z0JTIwQXp1cmUlMjBSU0ElMjBUTFMlMjBJc3N1aW5nJTIwQ0ElMjAwNyUyMC0lMjB4c2lnbi5jcnQwLQYIKwYBBQUHMAGGIWh0dHA6Ly9vbmVvY3NwLm1pY3Jvc29mdC5jb20vb2NzcDAdBgNVHQ4EFgQUKD+u5iTfVDHTNGVSISqikKhi7gYwDgYDVR0PAQH/BAQDAgWgMIIBTQYDVR0RBIIBRDCCAUCCEyouYXp1cmV3ZWJzaXRlcy5uZXSCFyouc2NtLmF6dXJld2Vic2l0ZXMubmV0ghcqLnNzby5henVyZXdlYnNpdGVzLm5ldIIeKi5lYXN0dXMyLTAxLmF6dXJld2Vic2l0ZXMubmV0giIqLnNjbS5lYXN0dXMyLTAxLmF6dXJld2Vic2l0ZXMubmV0giIqLnNzby5lYXN0dXMyLTAxLmF6dXJld2Vic2l0ZXMubmV0gh0qLmVhc3R1czIuYy5henVyZXdlYnNpdGVzLm5ldIIhKi5zY20uZWFzdHVzMi5jLmF6dXJld2Vic2l0ZXMubmV0giEqLnNzby5lYXN0dXMyLmMuYXp1cmV3ZWJzaXRlcy5uZXSCEiouYXp1cmUtbW9iaWxlLm5ldIIWKi5zY20uYXp1cmUtbW9iaWxlLm5ldDAMBgNVHRMBAf8EAjAAMGoGA1UdHwRjMGEwX6BdoFuGWWh0dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMvY3JsL01pY3Jvc29mdCUyMEF6dXJlJTIwUlNBJTIwVExTJTIwSXNzdWluZyUyMENBJTIwMDcuY3JsMGYGA1UdIARfMF0wUQYMKwYBBAGCN0yDfQEBMEEwPwYIKwYBBQUHAgEWM2h0dHA6Ly93d3cubWljcm9zb2Z0LmNvbS9wa2lvcHMvRG9jcy9S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 request-method GET response-head HTTP/1.1 200 OK
Content-Length: 36940
Content-Type: application/javascript
ETag: "1db9a4f9cb80d4c"
Strict-Transport-Security: max-age=2592000
Date: Fri, 16 Jan 2026 18:13:00 GMT
Server: Kestrel
Accept-Ranges: bytes
Cache-Control: no-cache
Last-Modified: Fri, 21 Mar 2025 10:54:26 GMT
 original-response-headers Content-Length: 36940
Content-Type: application/javascript
Date: Fri, 16 Jan 2026 18:12:41 GMT
Server: Kestrel
Accept-Ranges: bytes
Cache-Control: no-cache
ETag: "1db9a4f9cb80d4c"
Last-Modified: Fri, 21 Mar 2025 10:54:26 GMT
Strict-Transport-Security: max-age=2592000
 ctid 2 net-response-time-onstart 131 net-response-time-onstop 135   L